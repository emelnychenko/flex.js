!function(a,b){"use strict";function c(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function d(a,b){switch(a){case"array":return"[object Array]"===Object.prototype.toString.call(b);default:return d[a]?d[a](b):typeof b===a}}function e(a,b,c){switch(typeof a){case"object":if("array"===c||flex.is("array",a)===!0){for(var d=0;d<a.length;d++)b&&b(a[d],d);return this}for(var d in a)b&&b(d,a[d]);return this}}function f(){var a,b,c=arguments,d=c.length;for(a=1;a<d;a++)for(b in c[a])c[a].hasOwnProperty(b)&&(c[0][b]=c[a][b]);return c[0]}function g(a,b){switch(b){case void 0:return j("decode",j("encode",a));default:return a=j("decode",j("encode",b)),this}}function h(a,b,c){return b[c.shift()].apply(a,c)}function i(){}function j(){return h(this,j,c(arguments))}function k(){return h(this,k,c(arguments))}function l(a,b){return setTimeout(a,b)}function m(a,b){return setInterval(a,b)}function n(a,b){switch(typeof a){case"object":flex.is("dom",a)===!0&&this.push(a);break;case"string":this.push.apply(this,c(o.all(a,b)));break;default:return}}function o(a,b){return new n(a,b)}function p(a){return a?a:document}function q(a,b){return p(b).querySelector(a)}function r(a,b){return p(b).querySelectorAll(a)}function s(a){return p(a).createDocumentFragment()}function t(){}Object.prototype.watch||(Object.prototype.watch=function(a,b){var c=this[a],d=c,e=function(){return d},f=function(e){return c=d,d=b.call(this,a,c,e)};delete this[a]&&(Object.defineProperty?Object.defineProperty(this,a,{get:e,set:f,enumerable:!0,configurable:!0}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(this,a,e),Object.prototype.__defineSetter__.call(this,a,f),this.propertyIsEnumerable(a)))}),Object.prototype.unwatch||(Object.prototype.unwatch=function(a){var b=this[a];delete this[a],this[a]=b}),a.flex={};var u=parseInt,v=parseFloat,w=(Number,Boolean),x=String,y=Object;f(flex,{facade:h,extend:f,is:d,copy:g,noop:i,iterate:e,each:e,boolean:w,bool:w,integer:u,int:u,float:v,double:v,string:x,str:x,array:c,arr:c,object:y,obj:y}),j.encode=JSON.stringify,j.decode=JSON.parse,flex.json=j,eval.object=function(a,b,c){var d=b.split("."),e=d.length-1;return d.reduce(function(a,b,d,f){return d===e||a[b]||(a[b]={}),d===e&&c&&c(a,b,d,f),a[b]},a)},k.encode=encodeURI,k.decode=decodeURI,flex.uri=k,flex.is.node=function(a){return"object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName},flex.is.element=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},flex.is.dom=function(a){return flex.is("node",a)||flex.is("element",a)},l.cancel=function(a){return clearTimeout(a)},flex.timeout=l,m.cancel=function(a){return clearInterval(a)},flex.interval=m,o.fn=Array.prototype,n.prototype=o.fn,f(flex,{query:o}),o.by={id:function(a,b){return p(b).getElementById(a)},tag:function(a,b){return p(b).getElementsByTagName(a)},name:function(a,b){return p(b).getElementsByName(a)}},f(o,{ctx:p,one:q,all:r,fragment:s}),o.fn.each=function(a){return e(this,a,"array"),this},o.fn.html=function(a){switch(typeof a){case"string":return this.each(function(b){b.innerHTML=a});default:return this[0].innerHTML}},o.fn.attr=function(a,b){switch(typeof b){case"undefined":switch(typeof a){case"string":return this[0].getAttribute(a);case"object":var c=this;e(a,function(a,b){c.each(function(c){c.setAttribute(a,b)})})}break;default:return this.each(function(c){c.setAttribute(a,b)}),this}return this},o.fn.text=function(a){switch(typeof a){case"undefined":return this[0].textContent;default:return this.each(function(b){b.textContent=d("object",a)?j("encode",a):a})}},o.fn.get=function(a){return this[a?a:0]},o.fn.find=function(a){var b=o();return this.each(function(d){b.unshift.apply(b,c(o.all(a,d)))}),b},o.fn.first=function(){return o(this[0])},o.fn.last=function(){return o(this[this.length-1])},o.fn.blur=function(){return this.each(function(a){a.blur()}),this},o.fn.focus=function(){return this.each(function(a){a.focus()}),this},o.fn.submit=function(){return this.each(function(a){a.submit()}),this},o.fn.click=function(){return this.each(function(a){a.click()}),this},o.fn.bind=function(a,b){return a=a.split(" "),this.each(function(c){e(a,function(a){c.addEventListener?c.addEventListener(a,b,!1):c.attachEvent("on"+a,b)})}),this},o.fn.unbind=function(a,b){return a=a.split(" "),this.each(function(c){e(a,function(a){c.removeEventListener(a,b,!1)})}),this},o.fn.value=function(a){switch(typeof a){case"string":this.each(function(b){b.value=a});break;default:return this[0].value}return this},o.fn.val=o.fn.value,o.fn.clone=function(){var a=o();return this.each(function(b){a.push(b.cloneNode(!0))}),a},o.fn.replace=function(a){this.each(function(b){b.parentNode.replaceChild(a,b)})},o.fn.remove=function(){this.each(function(a){a.parentElement.removeChild(a)})},t.scope={},t.$watch=function(a,b){void 0===t.$watch.pipes[a]&&(t.$watch.pipes[a]=[],eval.object(t.scope,a,function(b,c,f,g){d("object",b)===!1&&(b={}),b.watch(c,function(b,c,d){if(g.length>1)for(var f=1;f<g.length;f++){var h=g.slice(0,f).join(".");l(function(){eval.object(t.scope,h,function(a,b){e(t.$watch.pipes[b],function(c){c(a[b],a[b])})})},0)}return e(t.$watch.pipes[a],function(a){a(d,c)}),d})})),t.$watch.pipes[a].push(b)},t.$watch.pipes={},flex.vm=t,t.bind=function(a){o(document).find("[bind]").each(function(a){a=o(a);var b=a.attr("bind");a.html("&#160"),t.$watch(b,function(b){switch(typeof b){case"object":a.text(j("encode",b));break;default:b.length?a.text(b):a.html("&#160")}})})},t.bind(),t.model=function(a){o(document).find("[model]").each(function(a){a=o(a);var b=a.attr("model");switch(a.attr("type")){case"text":case"number":case"search":case"url":case"date":case"time":case"month":case"week":case"datetime-local":case"textarea":case null:t.$watch(b,function(b){a.val()!==b&&a.val(b)}),eval.object(t.scope,b,function(b,c){a.bind("keydown blur change",function(){l(function(){b[c]=a.val()},0)})});break;case"select":case"radio":t.$watch(b,function(b){a.val()!==b&&a.val(b)}),eval.object(t.scope,b,function(b,c){a.bind("change",function(){l(function(){b[c]=a.val()},0)})});case"checkbox":t.$watch(b,function(b){a[0].checked!==w(b)&&(a[0].checked=w(b))}),eval.object(t.scope,b,function(b,c){a.bind("change",function(){l(function(){b[c]=a.get().checked},0)})})}})},t.model(),t.each=function(a){o(document).find("[each]").each(function(a){})},t.data=function(){o(document).find('script[type="flex/data"]').each(function(a){a=o(a);try{var b=j("decode",a.text().trim()),c=a.attr("name");c?t.scope[c]=b:f(t.scope,b)}catch(a){}finally{a.remove()}})},t.data()}(window);